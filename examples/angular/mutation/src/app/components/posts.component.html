<div>
  <button
    [disabled]="addPostMutation.isPending()"
    (click)="addPostMutation.mutateAsync({ title: 'foo', body: 'bar' })"
  >
    Add post
  </button>

  @if (addPostMutation.isPending()) {
    Adding post...
  }
</div>

<div>
  @if (postsQuery.status() === 'pending') {
    Loading...
  } @else if (postsQuery.status() === 'error') {
    Error: {{ postsQuery.error()?.message }}
  }
  @if (postsQuery.data(); as posts) {
    @for (post of posts; track post.id) {
      <h1>{{ post.title }} sdsadsa</h1>
      <div>
        <p>{{ post.body }}</p>
      </div>
    }
    @if (postsQuery.isFetching()) {
      Background Updating...
    }
  }
</div>
